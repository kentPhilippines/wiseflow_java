# 域名配置管理系统

## 项目简介

域名配置管理系统是一个专为多域名网站部署设计的配置管理平台，旨在解决多域名环境下的配置管理、模板复用和批量操作等问题。系统提供了友好的用户界面，支持单个和批量管理域名配置信息，包括网站基础信息、SEO相关设置、联系方式以及友情链接等，能够显著提高多域名环境下的网站管理效率。

## 系统特点

- **集中化管理**：统一管理多个域名的配置信息，避免分散管理引起的混乱
- **模板化配置**：支持配置模板的下载和上传，便于配置复用和备份
- **批量操作**：支持批量导入和更新，大幅提高工作效率
- **即时预览**：编辑配置时支持即时预览，所见即所得
- **灵活扩展**：可扩展的配置项，满足不同网站的个性化需求
- **友好界面**：直观简洁的用户界面，降低操作门槛

## 功能模块

### 1. 配置管理

- 查看所有域名配置列表
- 添加新的域名配置
- 编辑现有域名配置
- 删除不需要的域名配置
- 启用/禁用特定域名配置

### 2. 批量操作

- 批量导入域名配置
- 导入时可选是否覆盖已存在的配置

### 3. 模板功能

- 下载配置模板（支持JSON、TXT格式）
- 上传配置模板实现配置导入
- 默认模板管理

## 操作指南

### 查看配置列表

在系统首页，您可以查看所有已添加的域名配置列表。列表中展示了每个配置的基本信息：

- ID：配置的唯一标识
- 域名：网站的域名
- 标题：网站的标题
- 模板路径：对应的视图模板路径
- 状态：启用或禁用状态
- 创建时间：配置的创建时间
- 操作：提供编辑和删除功能的按钮

### 添加新配置

1. 点击页面右上角的"添加新配置"按钮
2. 在弹出的表单中填写配置信息：
   - **基本信息**（必填）：
     - 域名：网站的域名，如 `example.com`
     - 网站标题：显示在浏览器标签页的标题
     - 状态：选择"启用"或"禁用"
   - **高级选项**（可选，使用系统默认值）：
     - 网站描述：用于SEO的网站简介
     - 关键词：用于SEO的关键词，多个关键词用逗号分隔
     - Logo URL：网站logo的URL地址
     - Favicon URL：网站图标的URL地址
     - 版权信息：网站底部显示的版权文本
     - 备案号：网站的ICP备案号
     - 模板路径：网站使用的视图模板路径
     - 联系电话：网站的联系电话
     - 联系邮箱：网站的联系邮箱
     - 联系地址：网站的实际地址
   - **友情链接**：
     - 可以添加多个友情链接，每个链接包含名称、URL、描述和排序值
3. 填写完成后，您可以在右侧预览区域查看配置效果
4. 点击"保存"按钮提交配置

### 编辑现有配置

1. 在配置列表中，点击对应配置行的"编辑"按钮（铅笔图标）
2. 在弹出的表单中修改需要更新的信息
3. 查看右侧预览区域确认修改效果
4. 点击"保存"按钮提交更新

### 删除配置

1. 在配置列表中，点击对应配置行的"删除"按钮（垃圾桶图标）
2. 在弹出的确认对话框中，确认要删除的域名
3. 点击"删除"按钮确认操作

### 批量导入配置

1. 点击页面右上角的"批量导入"按钮
2. 在弹出的对话框中，输入符合JSON格式的配置数据
   - 可以是单个配置对象，也可以是配置对象数组
   - 确保JSON格式正确，包含必要的域名和标题字段
3. 选择是否覆盖已存在的域名配置（勾选"覆盖已存在的域名配置"复选框）
4. 点击"导入"按钮提交

### 模板使用

#### 下载模板

1. 点击页面右上角的"下载模板"按钮
2. 在弹出的下拉菜单中选择下载格式：
   - **JSON格式**：完整的配置信息，推荐使用
   - **TXT格式**：简化的文本格式，易于阅读和修改
3. 浏览器将自动下载选定格式的模板文件

#### 上传模板

1. 点击页面右上角的"上传模板"按钮
2. 在弹出的对话框中，点击"选择文件"按钮选择要上传的模板文件
   - 支持的格式：JSON和TXT
3. 选择是否覆盖已存在的域名配置
4. 点击"上传并导入"按钮

## 配置字段说明

### 基本字段

| 字段名 | 类型 | 必填 | 说明 |
|-------|------|------|------|
| domain | 字符串 | 是 | 网站域名，如 example.com |
| title | 字符串 | 是 | 网站标题 |
| description | 字符串 | 否 | 网站描述，用于SEO |
| keywords | 字符串 | 否 | 网站关键词，用逗号分隔 |
| logoUrl | 字符串 | 否 | 网站logo的URL地址 |
| faviconUrl | 字符串 | 否 | 网站图标的URL地址 |
| copyright | 字符串 | 否 | 版权信息 |
| icp | 字符串 | 否 | ICP备案号 |
| viewsPath | 字符串 | 否 | 视图模板路径 |
| contactPhone | 字符串 | 否 | 联系电话 |
| contactEmail | 字符串 | 否 | 联系邮箱 |
| contactAddress | 字符串 | 否 | 联系地址 |
| status | 整数 | 否 | 状态：1=启用，0=禁用 |

### 友情链接

友情链接为一个数组，每个链接包含以下字段：

| 字段名 | 类型 | 必填 | 说明 |
|-------|------|------|------|
| name | 字符串 | 是 | 链接名称 |
| url | 字符串 | 是 | 链接地址 |
| description | 字符串 | 否 | 链接描述 |
| sort | 整数 | 否 | 排序值，值越小越靠前 |

## 文件格式说明

### JSON格式

```json
{
  "domain": "example.com",
  "title": "示例网站",
  "description": "这是一个示例网站描述",
  "keywords": "示例,网站,关键词",
  "logoUrl": "/static/images/logo.png",
  "faviconUrl": "/static/images/favicon.ico",
  "copyright": "© 2023 All rights reserved.",
  "icp": "ICP备xxxxxxxx号",
  "viewsPath": "/templates/default",
  "contactPhone": "010-12345678",
  "contactEmail": "contact@example.com",
  "contactAddress": "默认地址",
  "status": 1,
  "friendlyLinkList": [
    {
      "name": "示例链接1",
      "url": "https://example1.com",
      "description": "示例链接1描述",
      "sort": 0
    },
    {
      "name": "示例链接2",
      "url": "https://example2.com",
      "description": "示例链接2描述",
      "sort": 1
    }
  ]
}
```

### TXT格式

```
domain=example.com
title=示例网站
description=这是一个示例网站描述
keywords=示例,网站,关键词
logoUrl=/static/images/logo.png
faviconUrl=/static/images/favicon.ico
copyright=© 2023 All rights reserved.
icp=ICP备xxxxxxxx号
viewsPath=/templates/default
contactPhone=010-12345678
contactEmail=contact@example.com
contactAddress=默认地址
status=1
# 友情链接格式: name=链接名称,url=链接地址,description=描述,sort=排序
link=name=示例链接1,url=https://example1.com,description=示例链接1描述,sort=0
link=name=示例链接2,url=https://example2.com,description=示例链接2描述,sort=1
```

## 系统集成

域名配置管理系统通过RESTful API与应用程序集成。主要API端点包括：

- `/admin/config/domain` - 获取所有域名配置（GET）或创建新配置（POST）
- `/admin/config/domain/{id}` - 获取（GET）、更新（PUT）或删除（DELETE）特定配置
- `/admin/config/domain/batch-import` - 批量导入配置
- `/admin/config/domain/template` - 保存模板设置

## 注意事项

1. **数据备份**：建议定期使用模板下载功能备份重要的配置数据
2. **批量导入**：批量导入前请确认JSON格式正确，并根据需要选择是否覆盖已存在配置
3. **必填字段**：添加或更新配置时，必须填写域名和网站标题
4. **默认值**：未填写的非必填字段将使用系统默认值

## 常见问题

**Q: 如何批量修改多个域名的共同配置？**
A: 先下载一个现有配置作为模板，修改后使用批量导入功能，并勾选"覆盖已存在的域名配置"。

**Q: 配置修改后何时生效？**
A: 配置修改后立即生效，但可能受到缓存影响，建议清除应用缓存。

**Q: 如何快速复制一个域名的配置？**
A: 编辑该域名配置，修改域名字段后保存为新配置。

**Q: 支持哪些文件格式？**
A: 系统支持JSON和TXT两种格式，推荐使用JSON格式，它支持所有配置项和完整的结构。

## 技术支持

如有任何使用问题或建议，请联系系统管理员或技术支持团队。 